# ==========================================
# Texly.Chat Environment Configuration
# ==========================================
# Copy this file to .env.local for local development
# or .env.prd for production.
#
# REQUIRED VARIABLES are marked as [REQUIRED]
# ==========================================

PORT=8080

# Database Configuration [REQUIRED]
# Format: postgres://user:password@host:port/dbname?sslmode=disable
DATABASE_URL=postgres://texly:texly_dev@localhost:5432/texly?sslmode=disable

# Redis Configuration [REQUIRED]
# Format: redis://:password@host:port/db
REDIS_URL=redis://localhost:6379/0
REDIS_MAX_CONNS=50
REDIS_MIN_IDLE_CONNS=10

# Security [REQUIRED]
# Run `openssl rand -hex 32` to generate
JWT_SECRET=your-super-secret-key-change-this-in-production

ENVIRONMENT=development

# OpenAI Configuration [REQUIRED]
OPENAI_API_KEY=your-openai-api-key-here
EMBEDDING_MODEL=text-embedding-3-small
EMBEDDING_DIMENSION=1536
OPENAI_CHAT_MODEL=gpt-4o-mini
CHAT_TEMPERATURE=0.7
MAX_CONTEXT_CHUNKS=5

# MinIO Configuration [REQUIRED for File Uploads]
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=texly-uploads
MINIO_USE_SSL=false

# Upload Configuration
MAX_UPLOAD_SIZE_MB=100

# Google OAuth Configuration
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URL=http://localhost:8080/api/auth/google/callback

FRONTEND_URL=http://localhost:3000

# Polar Payment Configuration
# Get credentials from https://polar.sh/settings
POLAR_ACCESS_TOKEN=your-polar-access-token
POLAR_WEBHOOK_SECRET=your-polar-webhook-secret
POLAR_ORGANIZATION_ID=your-polar-org-id
POLAR_PRO_PRODUCT_ID=your-polar-pro-product-id